{%- assign hide = section.settings.hide -%}
{%- assign bg_color = section.settings.bg_color -%}
{% if hide == false %}

<section id="fourth_section" class="lander-media">
  <div class="container" style="background-color:{{bg_color}} ;">
    <div class="row">
            <div class="media-carousel">
              {% for block in section.blocks %}
           {% case block.type %}
               {% when 'media-items' %}

     
        <div class="col-md-3 review_outer even press-quote nyt">
                  <img src="{{ block.settings.media-image | img_url: 'master' }}" alt=""/>
                  <p>{{ block.settings.img-text }}</p>
        </div>

                    
           {% endcase %}
        {% endfor %}
      
         </div>
    </div>
    <div class="media__scroll">
    <p class="media__scroll-text">Scroll for more</p><svg xmlns="http://www.w3.org/2000/svg" width="32" height="18" viewBox="0 0 34 18"> <defs> <style>.a{fill: none; stroke: #fff; stroke-linecap: round; stroke-width: 2px;}.a{stroke-miterlimit: 10;}.a{stroke-linejoin: round;}</style> </defs> <title>arrow-right</title> <g> <line class="a" x1="10.97" y1="9.11" x2="31.97" y2="9.11"></line> <polyline class="a" points="26.64 3.11 31.97 9.11 26.64 15.11"></polyline> </g></svg>
    </div>
  </div>
</section>

<script>
$(document).ready(function(){
  var $slider =  $(".media-carousel");
  var mediaQuerySlider = '590px';
  function initSlider(){
    $slider.slick({
          infinite: true,
          slidesToShow: 1,
          slidesToScroll: 1,
      variableWidth: false,
      arrows: false,
      mobileFirst: true,
      prevArrow: "",
      nextArrow:""
    });
  }
  function cancelSlider(){
  	$slider.slick('unslick');
  }



  if (window.matchMedia("(max-width: "+mediaQuerySlider+")").matches) {
      initSlider();
  } 
  window.onresize = function() {
  if (window.matchMedia("(max-width: "+mediaQuerySlider+")").matches) {
//       initSlider();
    console.log('dont');
  } else{
    	console.log('cancel');
      $(".media-carousel").slick('unslick');
  }
}
  
//   Move the section
  function verticalCenterDiv(){
    var $parent = document.querySelector('#third-section-append');
	var $child = document.querySelector('#fourth_section');
 

	$parent.appendChild($child);
// 	$parent.closest('#third_section').classList.add('lander-review--mobile');
}
var mq = window.matchMedia( "(max-width: 991px)" );
if (mq.matches) {
	console.log('hey');
// 	verticalCenterDiv();
}
  
  window.onresize = function(event) {
    if (mq.matches) {
	console.log('hey');
// 	verticalCenterDiv();
}
};
});
</script>

<style>
         #fourth_section .review_outer img{
       		opacity: .5;
       }
       section#fourth_section .container{position:relative;z-index1;}
     @media (max-width: 767px) { 
       section#fourth_section .container .review_outer{
       	min-width: unset !important;
         max-width: unset !important;
       }
       
       #fourth_section .review_outer img{
       		display: block;
         margin: 0 auto;
       }
     }
  
  .media-carousel .slick-prev,
  .media-carousel .slick-next{
  	display: none !important;
  }
  .media__scroll > *{
  	display: inline-block;
    color: white;
  }
      .media__scroll-text{
      text-transform: uppercase;
      position: relative;
      top: -4px;
      font-weight: bold;
    }
  @media (min-width:590px){
    .media__scroll{
    	display: none;
    }
  }
  
  @media (max-width:350px){
    .lander-media .row{
    	max-height: 150px;
    }
  }
  .lander-review--mobile{
	padding: 5% 0 !important;
}
.lander-review--mobile .lander-review__title{
	padding-top: 0 !important;
  padding-left: 0 !important;
}

</style>
{% endif %}

{% schema %}
  {
    "name": "Media",
    "class": "lander-media-section",
    "settings": [
{
        "type": "checkbox",
        "id": "hide",
        "label": "Hide this section",
		"default": false
      },
{
	      "type": "color",
		  "id": "bg_color",
		  "label": "Background color",
		  "default": "#ff674d"
	      }

	  ],
       "blocks": [
    {
      "type": "media-items",
      "name": "Add image and text (4)",
      "settings": [
        {
          "id": "media-image",
          "type": "image_picker",
       		"label": "Image"
        },
        {
          "id": "img-heading",
          "type": "text",
          "label": "Heading"
        },
        {
          "id": "img-text",
          "type": "textarea",
          "label": "Text"
        }
      ]
    }
  ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
